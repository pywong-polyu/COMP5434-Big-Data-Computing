{
    "paper_id": "52b3cefc2318b61671c9cf836f2cba5946749d0b",
    "metadata": {
        "title": "Tightly INS/UWB Combined Indoor AGV Positioning in LOS/NLOS Environment",
        "authors": [
            {
                "first": "Peisen",
                "middle": [],
                "last": "Li",
                "suffix": "",
                "affiliation": {
                    "laboratory": "",
                    "institution": "University of Jinan",
                    "location": {
                        "postCode": "250022",
                        "settlement": "Jinan, Shandong",
                        "country": "China"
                    }
                },
                "email": ""
            },
            {
                "first": "Shuhui",
                "middle": [],
                "last": "Bi",
                "suffix": "",
                "affiliation": {
                    "laboratory": "",
                    "institution": "University of Jinan",
                    "location": {
                        "postCode": "250022",
                        "settlement": "Jinan, Shandong",
                        "country": "China"
                    }
                },
                "email": ""
            },
            {
                "first": "Tao",
                "middle": [],
                "last": "Shen",
                "suffix": "",
                "affiliation": {
                    "laboratory": "",
                    "institution": "University of Jinan",
                    "location": {
                        "postCode": "250022",
                        "settlement": "Jinan, Shandong",
                        "country": "China"
                    }
                },
                "email": ""
            },
            {
                "first": "Qinjun",
                "middle": [],
                "last": "Zhao",
                "suffix": "",
                "affiliation": {
                    "laboratory": "",
                    "institution": "University of Jinan",
                    "location": {
                        "postCode": "250022",
                        "settlement": "Jinan, Shandong",
                        "country": "China"
                    }
                },
                "email": ""
            }
        ]
    },
    "abstract": [
        {
            "text": "In view of the defects and shortcomings of traditional Automated Guided Vehicle (AGV) robots in the localization mode and working scene, this paper studies the tightly-coupled integrated localization strategy based on inertial navigation system (INS) with ultra wide band (UWB). This paper presents an interactive multi-model (IMM) to solve the influence of non-line-of-sight (NLOS) on positioning accuracy. In IMM framework, two parallel Kalman filter (KF) models are used to filter the measured distance simultaneously, and then IMM distance is obtained by weighted fusion of two KF filtering results. This paper adopts the tightly-coupled combined method, and performs indoor positioning by extending Kalman filter (EKF). Experiments show that the method can effectively suppress the influence of NLOS error and improve the localization accuracy.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Abstract"
        }
    ],
    "body_text": [
        {
            "text": "Automated Guided Vehicle (AGV) is the key equipment of self-flow transportation system and flexible manufacturing system, and it has been applied more and more widely . Therefore, how to obtain accurate localization information is the core of AGV positioning technology. Inertial navigation system (INS) is an autonomous navigation system which does not depend on external information or radiate energy to the outside world (Liu et al. 2018 ). The disadvantage is that the localization error accumulates with the increase of time. Compared with INS, ultra wide band (UWB) technology is a kind of wireless technology rising in recent years. But in the complex indoor environment with more obstacles, the accuracy will be reduced because of the influence of signal transmission (Sobhani et al. 2017; Xu et al. 2017 ). Therefore, this paper combines INS with UWB, and the two localization methods complement each other, which can provide a more comprehensive and reliable localization solution.",
            "cite_spans": [
                {
                    "start": 424,
                    "end": 440,
                    "text": "(Liu et al. 2018",
                    "ref_id": "BIBREF1"
                },
                {
                    "start": 776,
                    "end": 797,
                    "text": "(Sobhani et al. 2017;",
                    "ref_id": "BIBREF2"
                },
                {
                    "start": 798,
                    "end": 812,
                    "text": "Xu et al. 2017",
                    "ref_id": "BIBREF6"
                }
            ],
            "ref_spans": [],
            "section": "Introduction"
        },
        {
            "text": "When the AGV moves in the indoor environment, there are a large number of obstacles. The linear communication path between the beacon node and the reference nodes (RNs) is prone to obstruction of obstacles. The non-lineof-sight (NLOS) error produces a large deviation, and the localization accuracy is drastically reduced (Morelli et al. 2007 ). So, this paper proposes an interactive multi-model (IMM) algorithm. In IMM framework, two parallel Kalman filter (KF) (Shi and Fang 2010) models are used to filter the measured distance simultaneously. The distance estimation of IMM is obtained by weighted fusion of the two filtering results. When the state is switched, it can still get a more accurate distance estimation. To a certain extent, it avoids the error caused by the inaccuracy of the algorithm for identifying LOS/NLOS, thus better weakening the influence of LOS/NLOS error. In the integrated localization stage, the INS/UWB integrated localization can be divided into loosely-coupled integrated localization and tightly-coupled integrated localization. The accuracy of navigation results depends on the accuracy of UWB solution, and the sublocalization technology alone completes the localization, which also introduces the calculation error for the integrated localization system. The tightly-coupled integrated proposed in this paper is to reduce the influence of NLOS error by using UWB's original ranging information through IMM algorithm, and then fuse the data with INS's estimated distance information, which can reduce the calculation error of sub-localization system's independent localization and improve the overall localization accuracy.",
            "cite_spans": [
                {
                    "start": 322,
                    "end": 342,
                    "text": "(Morelli et al. 2007",
                    "ref_id": "BIBREF3"
                },
                {
                    "start": 464,
                    "end": 483,
                    "text": "(Shi and Fang 2010)",
                    "ref_id": "BIBREF5"
                }
            ],
            "ref_spans": [],
            "section": "Introduction"
        },
        {
            "text": "When the AGV moves indoors, the channel state between the AGV and the RNs is switched between LOS and NLOS, and the measurement models of LOS and NLOS are different. Therefore, it is difficult for a single filtering model to effectively filter the measured distance in real time. In this paper, an IMM algorithm is proposed to estimate the measurement distance. Two parallel KF are used to adapt to the LOS and NLOS ranging models. In the distance filtering phase, two KF simultaneously estimate the measurement distance, and the model likelihood probability can be calculated according to the distance measurement value input by the system and the model filtered observation value, and then the model probability can be calculated. Models with higher model matching can obtain higher model probabilities, so the filtered results of the model will dominate the output at the weighted output stage. The IMM algorithm is a multi-basic interaction algorithm based on the second-order Markov chain model. According to the characteristics of the given model parameters, given the input data, the input data can be adaptively distinguished from which model is closer to, and expressed by the model probability. The Combination strategy framework is shown in Fig. 1 . The space equation of tightly-coupled combined localization system includes state equation and measurement equation. Tightly-coupled combined localization is more original than loosely-coupled combined localization. So when the number of Reference nodes (RNs) of UWB visible tags is small, the tightlycoupled combined localization still keeps a high localization accuracy. Figure 1 shows the tightly-coupled strategy for AGV in complex work environments. Firstly, d n represent the range information obtained by UWB positioning system,d n is the distance information after the NLOS error is weakened by the IMM algorithm. P INS is the location information solved by INS, d INS n is the distance information of the INS to the RNs and is calculated from the UWB and INS position information. The last, the optimal navigation solution of AGV is obtained by making a difference between P INS and optimal error \u03b4P .",
            "cite_spans": [],
            "ref_spans": [
                {
                    "start": 1252,
                    "end": 1258,
                    "text": "Fig. 1",
                    "ref_id": "FIGREF0"
                },
                {
                    "start": 1634,
                    "end": 1642,
                    "text": "Figure 1",
                    "ref_id": "FIGREF0"
                }
            ],
            "section": "The Tightly INS/UWB Combined AGV Positioning Strategy"
        },
        {
            "text": "We define the equation of state of the system as:",
            "cite_spans": [],
            "ref_spans": [],
            "section": "IMM Model"
        },
        {
            "text": "d U n,k represents distance measured in the nth UWB at k time,\u1e0b U n,k represents the rate of change of distance measured at the nth UWB at k time, system noise \u03c9 n,k \u223c N (0, Q n,k ).",
            "cite_spans": [],
            "ref_spans": [],
            "section": "IMM Model"
        },
        {
            "text": "In this paper, the observation equation of IMM model in LOS environment is defined as:d",
            "cite_spans": [],
            "ref_spans": [],
            "section": "IMM Model"
        },
        {
            "text": "where noise \u03c9 L n,k \u223c N 0, R los n,k .",
            "cite_spans": [],
            "ref_spans": [],
            "section": "IMM Model"
        },
        {
            "text": "In this paper, the observation equation of IMM model in NLOS environment is defined as:d",
            "cite_spans": [],
            "ref_spans": [],
            "section": "IMM Model"
        },
        {
            "text": "where noise \u03c9 N n,k \u223c N 0, R nlos n,k .",
            "cite_spans": [],
            "ref_spans": [],
            "section": "IMM Model"
        },
        {
            "text": "At this stage, The INS/UWB tightly-coupled Combined positioning strategy space equation includes a state equation and a measurement equation. The equation of state can be defined as:",
            "cite_spans": [],
            "ref_spans": [],
            "section": "INS/UWB Tightly-Coupled Model"
        },
        {
            "text": "where \u03b4P E,k is the eastward position error of AGV and \u03b4P N,k is the error in the north direction at k time. F represents the state transition matrix and noise",
            "cite_spans": [],
            "ref_spans": [],
            "section": "INS/UWB Tightly-Coupled Model"
        },
        {
            "text": "It can be concluded that:",
            "cite_spans": [],
            "ref_spans": [],
            "section": "INS/UWB Tightly-Coupled Model"
        },
        {
            "text": "where \u03b4d n is distance measurement information, d INS n is the distance between the BN estimated by the INS and the nth RN reference station. d I n is the ideal position of the BN is difficult to obtain in the measurement. P I E and P I N represent the ideal position coordinates of BN in the east and north directions. Detailed formula derivation can be found in the literature (Xu and Chen 2016) .",
            "cite_spans": [
                {
                    "start": 379,
                    "end": 397,
                    "text": "(Xu and Chen 2016)",
                    "ref_id": "BIBREF4"
                }
            ],
            "ref_spans": [],
            "section": "INS/UWB Tightly-Coupled Model"
        },
        {
            "text": "So the measurement equation is defined as: \u23a1",
            "cite_spans": [],
            "ref_spans": [],
            "section": "INS/UWB Tightly-Coupled Model"
        },
        {
            "text": "where V k is system observation noise matrix.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "INS/UWB Tightly-Coupled Model"
        },
        {
            "text": "In the integrated localization phase, AGV localization uses an extended Kalman filter (EKF) that can handle nonlinear dynamic problems. The basic idea of the EKF is to perform a first-order Taylor function expansion on a nonlinear system, linearize the first two terms, and then use the KF algorithm for state estimation.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "INS/UWB Tightly-Coupled Model"
        },
        {
            "text": "During the experiment, AGV traveled around two obstacles, and the route size was 3.5 m \u00d7 9.5 m. The Fig. 2 displays the test platform. We set the sampling time to: T i = T = 0.02 s. Moreover, the initial values of the parameters are set to:",
            "cite_spans": [],
            "ref_spans": [
                {
                    "start": 100,
                    "end": 106,
                    "text": "Fig. 2",
                    "ref_id": "FIGREF1"
                }
            ],
            "section": "Test"
        },
        {
            "text": "and Figure 3 shows the INS and UWB localization trajectories. As INS error gradually accumulates with time, the deviation between localization trajectory and reference trajectory is large. Although INS is an autonomous localization system, it can not be used alone. The accuracy of UWB localization trajectory is higher than INS, but due to the obstacles, it can be seen that there are many burrs in the track, which will also lead to the increase of localization error. Figure 4 shows the loosely-coupled trajectory, the traditional tightly-coupled trajectory and the proposed tightly-coupled trajectory. The error between the positioning trajectory and the reference trajectory of each positioning system is shown in Table 1 . The proposed tightly-coupled combined approach's performance is better than the traditional tightly-coupled combined and looselycoupled combined localization. It can be seen that tightly-coupled combined has higher localization accuracy than loosely-coupled combination, which depends on that tightly-coupled combined uses the original data of each sensor and reduces the error brought by positioning algorithm. The proposed tightly-coupled combined method is using the IMM algorithm weakens the LOS/NLOS error and improves the positioning accuracy. Therefore, through the analysis of Fig. 5 and Fig. 6 , we can draw a conclusion that the IMM algorithm studied in this paper can effectively reduce the LOS/NLOS error and the proposed tightly-coupled combined method has smaller error than the other two combination methods. ",
            "cite_spans": [],
            "ref_spans": [
                {
                    "start": 4,
                    "end": 12,
                    "text": "Figure 3",
                    "ref_id": null
                },
                {
                    "start": 471,
                    "end": 479,
                    "text": "Figure 4",
                    "ref_id": null
                },
                {
                    "start": 719,
                    "end": 726,
                    "text": "Table 1",
                    "ref_id": "TABREF0"
                },
                {
                    "start": 1314,
                    "end": 1320,
                    "text": "Fig. 5",
                    "ref_id": null
                },
                {
                    "start": 1325,
                    "end": 1331,
                    "text": "Fig. 6",
                    "ref_id": null
                }
            ],
            "section": "Test"
        },
        {
            "text": "We propose indoor AGV tightly INS/UWB combined positioning method. In this combined positioning method, an IMM algorithm is proposed for the location of moving targets in indoor environment. Through error analysis of off-line measurement data of LOS and NLOS, the error parameters under two propagation states are obtained, and then the Kalman distance filtering models for the two channel error parameters are established. The model probability is calculated adaptively to weaken the influence of NLOS ranging error. The simulation results show that: the IMM algorithm studied in this paper can effectively weaken the influence of LOS/NLOS for the navigation accuracy of indoor moving targets, and the tightly combined positioning method can make AGV achieve higher positioning accuracy when moving indoors.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Conclusion"
        }
    ],
    "bib_entries": {
        "BIBREF0": {
            "ref_id": "b0",
            "title": "Centralized and optimal motion planning for large-scale AGV systems: a generic approach",
            "authors": [
                {
                    "first": "B",
                    "middle": [],
                    "last": "Li",
                    "suffix": ""
                },
                {
                    "first": "H",
                    "middle": [],
                    "last": "Liu",
                    "suffix": ""
                },
                {
                    "first": "D",
                    "middle": [],
                    "last": "Xiao",
                    "suffix": ""
                }
            ],
            "year": 2017,
            "venue": "Adv. Eng. Softw",
            "volume": "106",
            "issn": "",
            "pages": "33--46",
            "other_ids": {}
        },
        "BIBREF1": {
            "ref_id": "b1",
            "title": "An improved fast self-calibration method for hybrid inertial navigation system under stationary condition",
            "authors": [
                {
                    "first": "B",
                    "middle": [],
                    "last": "Liu",
                    "suffix": ""
                },
                {
                    "first": "S",
                    "middle": [],
                    "last": "Wei",
                    "suffix": ""
                },
                {
                    "first": "G",
                    "middle": [],
                    "last": "Su",
                    "suffix": ""
                }
            ],
            "year": 2018,
            "venue": "Sensors",
            "volume": "18",
            "issn": "5",
            "pages": "",
            "other_ids": {}
        },
        "BIBREF2": {
            "ref_id": "b2",
            "title": "Target tracking for UWB multistatic radar sensor networks",
            "authors": [
                {
                    "first": "B",
                    "middle": [],
                    "last": "Sobhani",
                    "suffix": ""
                },
                {
                    "first": "E",
                    "middle": [],
                    "last": "Paolini",
                    "suffix": ""
                },
                {
                    "first": "A",
                    "middle": [],
                    "last": "Giorgetti",
                    "suffix": ""
                }
            ],
            "year": 2017,
            "venue": "IEEE J. Sel. Topics Signal Process",
            "volume": "8",
            "issn": "1",
            "pages": "125--13603",
            "other_ids": {}
        },
        "BIBREF3": {
            "ref_id": "b3",
            "title": "Hidden Markov models for radio localization in mixed LOS/NLOS conditions",
            "authors": [
                {
                    "first": "C",
                    "middle": [],
                    "last": "Morelli",
                    "suffix": ""
                },
                {
                    "first": "M",
                    "middle": [],
                    "last": "Nicoli",
                    "suffix": ""
                },
                {
                    "first": "V",
                    "middle": [],
                    "last": "Rampa",
                    "suffix": ""
                }
            ],
            "year": 2007,
            "venue": "IEEE Trans. Signal Process",
            "volume": "55",
            "issn": "4",
            "pages": "1525--1542",
            "other_ids": {}
        },
        "BIBREF4": {
            "ref_id": "b4",
            "title": "Range-only UWB/INS tightly-coupled integrated navigation method for indoor pedestrian. Chin",
            "authors": [
                {
                    "first": "Y",
                    "middle": [],
                    "last": "Xu",
                    "suffix": ""
                },
                {
                    "first": "X",
                    "middle": [],
                    "last": "Chen",
                    "suffix": ""
                }
            ],
            "year": 2016,
            "venue": "J. Sci. Instrum",
            "volume": "37",
            "issn": "8",
            "pages": "142--148",
            "other_ids": {}
        },
        "BIBREF5": {
            "ref_id": "b5",
            "title": "Kalman filter-based identification for systems with randomly missing measurements in a network environment",
            "authors": [
                {
                    "first": "Y",
                    "middle": [],
                    "last": "Shi",
                    "suffix": ""
                },
                {
                    "first": "H",
                    "middle": [],
                    "last": "Fang",
                    "suffix": ""
                }
            ],
            "year": 2010,
            "venue": "Int. J. Control",
            "volume": "83",
            "issn": "3",
            "pages": "538--551",
            "other_ids": {}
        },
        "BIBREF6": {
            "ref_id": "b6",
            "title": "UWB-based indoor human localization with time-delayed data using efir filtering",
            "authors": [
                {
                    "first": "Y",
                    "middle": [],
                    "last": "Xu",
                    "suffix": ""
                },
                {
                    "first": "Y",
                    "middle": [
                        "S"
                    ],
                    "last": "Shmaliy",
                    "suffix": ""
                },
                {
                    "first": "Y",
                    "middle": [],
                    "last": "Li",
                    "suffix": ""
                },
                {
                    "first": "X",
                    "middle": [],
                    "last": "Chen",
                    "suffix": ""
                }
            ],
            "year": 2017,
            "venue": "IEEE Access",
            "volume": "5",
            "issn": "",
            "pages": "16676--16683",
            "other_ids": {}
        }
    },
    "ref_entries": {
        "FIGREF0": {
            "text": "The tightly-coupled strategy.",
            "latex": null,
            "type": "figure"
        },
        "FIGREF1": {
            "text": "The test platform.",
            "latex": null,
            "type": "figure"
        },
        "FIGREF2": {
            "text": "Trajectory of single positioning system. The localization trajectory of INS/UWB tight combination method and other traditional combination location methods. Error in the east. North position error.",
            "latex": null,
            "type": "figure"
        },
        "TABREF0": {
            "text": "Statistics of positioning errors in the east and north directions. Method East Mean/m East Std./m North Mean/m North Std./m",
            "latex": null,
            "type": "table"
        }
    },
    "back_matter": []
}