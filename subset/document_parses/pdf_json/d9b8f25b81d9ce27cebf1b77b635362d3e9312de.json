{
    "paper_id": "d9b8f25b81d9ce27cebf1b77b635362d3e9312de",
    "metadata": {
        "title": "A unified machine learning approach to time series forecasting applied to demand at emergency departments",
        "authors": [
            {
                "first": "M",
                "middle": [
                    "A C"
                ],
                "last": "Vollmer",
                "suffix": "",
                "affiliation": {
                    "laboratory": "MRC Centre for Global Infectious Disease Analysis",
                    "institution": "Imperial College London",
                    "location": {}
                },
                "email": ""
            },
            {
                "first": "B",
                "middle": [],
                "last": "Glampson",
                "suffix": "",
                "affiliation": {
                    "laboratory": "MRC Centre for Global Infectious Disease Analysis",
                    "institution": "Imperial College London",
                    "location": {}
                },
                "email": ""
            },
            {
                "first": "T",
                "middle": [
                    "A"
                ],
                "last": "Mellan",
                "suffix": "",
                "affiliation": {
                    "laboratory": "MRC Centre for Global Infectious Disease Analysis",
                    "institution": "Imperial College London",
                    "location": {}
                },
                "email": ""
            },
            {
                "first": "S",
                "middle": [],
                "last": "Mishra",
                "suffix": "",
                "affiliation": {
                    "laboratory": "MRC Centre for Global Infectious Disease Analysis",
                    "institution": "Imperial College London",
                    "location": {}
                },
                "email": ""
            },
            {
                "first": "L",
                "middle": [],
                "last": "Mercuri",
                "suffix": "",
                "affiliation": {
                    "laboratory": "MRC Centre for Global Infectious Disease Analysis",
                    "institution": "Imperial College London",
                    "location": {}
                },
                "email": ""
            },
            {
                "first": "C",
                "middle": [],
                "last": "Costello",
                "suffix": "",
                "affiliation": {
                    "laboratory": "MRC Centre for Global Infectious Disease Analysis",
                    "institution": "Imperial College London",
                    "location": {}
                },
                "email": ""
            },
            {
                "first": "R",
                "middle": [],
                "last": "Klaber",
                "suffix": "",
                "affiliation": {
                    "laboratory": "MRC Centre for Global Infectious Disease Analysis",
                    "institution": "Imperial College London",
                    "location": {}
                },
                "email": ""
            },
            {
                "first": "G",
                "middle": [],
                "last": "Cooke",
                "suffix": "",
                "affiliation": {
                    "laboratory": "MRC Centre for Global Infectious Disease Analysis",
                    "institution": "Imperial College London",
                    "location": {}
                },
                "email": ""
            },
            {
                "first": "S",
                "middle": [],
                "last": "Flaxman",
                "suffix": "",
                "affiliation": {
                    "laboratory": "MRC Centre for Global Infectious Disease Analysis",
                    "institution": "Imperial College London",
                    "location": {}
                },
                "email": ""
            },
            {
                "first": "S",
                "middle": [],
                "last": "Bhatt",
                "suffix": "",
                "affiliation": {
                    "laboratory": "MRC Centre for Global Infectious Disease Analysis",
                    "institution": "Imperial College London",
                    "location": {}
                },
                "email": ""
            }
        ]
    },
    "abstract": [
        {
            "text": "There were 25.6 million attendances at Emergency Departments (EDs) in England in 2019 corresponding to an increase of 12 million attendances over the past ten years [3, 14, 15] . The steadily rising demand at EDs creates a constant challenge to provide adequate quality of care while maintaining standards and productivity. Managing hospital demand effectively requires an adequate knowledge of the future rate of admission. Using 8 years of electronic admissions data from two major acute care hospitals in London, we develop a novel ensemble methodology that combines the outcomes of the best performing time series and machine learning approaches in order to make highly accurate forecasts of demand, 1, 3 and 7 days in the future. Both hospitals face an average daily demand of 208 and 106 attendances respectively and experience considerable volatility around this mean. However, our approach is able to predict attendances at these emergency departments one day in advance up to a mean absolute error of \u00b114 and \u00b110 patients corresponding to a mean absolute percentage error of 6.8% and 8.6% respectively. Our analysis compares machine learning algorithms to more traditional linear models. We find that linear models often outperform machine learning methods and that the quality of our predictions for any of the forecasting horizons of 1, 3 or 7 days are comparable as measured in MAE. In addition to comparing and combining state-of-the-art forecasting methods to predict hospital demand, we consider two different hyperparameter tuning methods, enabling a faster deployment of our models without compromising performance. We believe our framework can readily be used to forecast a wide range of policy relevant indicators.",
            "cite_spans": [
                {
                    "start": 165,
                    "end": 168,
                    "text": "[3,",
                    "ref_id": "BIBREF2"
                },
                {
                    "start": 169,
                    "end": 172,
                    "text": "14,",
                    "ref_id": "BIBREF13"
                },
                {
                    "start": 173,
                    "end": 176,
                    "text": "15]",
                    "ref_id": "BIBREF14"
                }
            ],
            "ref_spans": [],
            "section": "Abstract"
        }
    ],
    "body_text": [
        {
            "text": "In 2019 there were 25.6 million attendances at emergency departments (EDs) in the UK, corresponding to 70, 231 patients attending every day [3] . The National Health Service (NHS) trusts across England are under very high pressure to maintain current standards and quality of care [29] . In fact, the rate of attendance has grown by 4.8% since 2018 and by 10.6% over the last 5 years meaning that it is increasing at a rate faster than population growth thus putting high pressure on our health care system. Failure to make provisions for surges in demand can lead to overcrowding, which in turn has been linked to multiple adverse patient outcomes such as unfavourable patient satisfaction, poor quality of care and diseconomies of scale [27] . In order to decrease overcrowding, the NHS introduced a new operational standard in 2010, commonly-known as the \"four hour target\", requiring that at least 95% of patients attending EDs should either be discharged, admitted or transferred within 4 hours of arrival. However, this target has not been met since 2014 and failure rates have reached a new high in January 2020 with 18% of patients at EDs waiting longer than four hours despite the fact that the overall number of attendances was lower in January 2020 than in January 2019. In fact 15.3% of patients spent more than 4 hours in EDs in 2019 compared to 11.9% last year and 5.5% five years ago, making 2019 the year with the worst annual performance on record [3] . A shortage of staff is not the predominant cause for long waiting times and low quality of care [31] , rather, it is that the correct type of staffing is not matched with patient demand. This inefficiency in staffing can have substantial impacts such as the 86, 264 of elective surgeries that had to be cancelled for non-clinical reasons on the day the patient was due to arrive in 2019. These cancellations leave NHS hospital trusts with lost costs of surgeons, anaesthetists and nurses as well as surgical session time and theatre capacity. Moreover, in the same year, the percentage of patients who had not been treated within 28 days of cancellation decreased from 9.8% in 2018 to 8.8% in 2019, however, still failing one of the NHS's improvement objectives. In addition the NHS England advises that a 85% bed occupancy rate is the maximum safe level of occupancy and it advises that trusts should try and keep bed occupancy below 92%. However, 126 out of 170 trusts recorded bed occupancy above 85%, 58 trusts rates above 92% in the third quarter of 2019, eight trusts had occupancy above 98% and one trust recorded 100% bed occupancy (NHS SitRep).",
            "cite_spans": [
                {
                    "start": 140,
                    "end": 143,
                    "text": "[3]",
                    "ref_id": "BIBREF2"
                },
                {
                    "start": 281,
                    "end": 285,
                    "text": "[29]",
                    "ref_id": "BIBREF28"
                },
                {
                    "start": 739,
                    "end": 743,
                    "text": "[27]",
                    "ref_id": "BIBREF26"
                },
                {
                    "start": 1465,
                    "end": 1468,
                    "text": "[3]",
                    "ref_id": "BIBREF2"
                },
                {
                    "start": 1567,
                    "end": 1571,
                    "text": "[31]",
                    "ref_id": "BIBREF30"
                }
            ],
            "ref_spans": [],
            "section": "Background"
        },
        {
            "text": "Overall the NHS in England has spent around \u00a3130 billion in 2018/19 on the delivery of health services [13] . A major fraction, 44.9% in the financial year 2016-2017 [9] , of this spending is due to the 1.2 million people employed by NHS hospital and community health services. Between February 2018 and 2019 the number of doctors alone rose by 2.5% and by 10% during the past five years [23] . This emphasises the fact that long waiting times may not simply result from a shortage of staff. Nonetheless, every year high agency and staffing costs are required to cover for staffing shortages. A key step to addressing the issue of staffing is the prediction of the rates of admission and the duration of stay at EDs (collectively referred to as \"demand\"). In particular, an adequate prediction of demand and a better understanding of the reasons for demand is fundamental to the delivery of high quality care.",
            "cite_spans": [
                {
                    "start": 103,
                    "end": 107,
                    "text": "[13]",
                    "ref_id": "BIBREF12"
                },
                {
                    "start": 166,
                    "end": 169,
                    "text": "[9]",
                    "ref_id": "BIBREF8"
                },
                {
                    "start": 388,
                    "end": 392,
                    "text": "[23]",
                    "ref_id": "BIBREF22"
                }
            ],
            "ref_spans": [],
            "section": "Background"
        },
        {
            "text": "Despite its importance, methods for predicting rates of admission and understanding underlying dynamics have not been studied extensively in the literature. Existing methods have been limited to the application of classical time series forecasting methods. In an Australian study, Boyle et al [6] predict monthly, daily and four hourly demand at 27 EDs in Queensland. Taking public holidays into account as predictors, the authors used an autoregressive integrated moving average (ARIMA) model as well as regression and exponential smoothing methods to predict demand up to a mean absolute percentage error (MAPE) of 11% for daily admissions. McCarthy et al [28] predicted hourly presentations to American emergency departments while including several temporal, weather and patient factors on the number of hourly arrivals in order to characterise behaviour at EDs. Jones et al [24] used seasonal autoregressive integrated moving average (SARIMA), time series regression, exponential smoothing and artificial neural network models to forecast demand. The authors had access to two years of data and made predictions ranging from 1 to 30 days in advance for three hospitals in the USA. The authors found seasonal and weekly patterns to be most important for an accurate prediction and obtained a Mean Absolute Predictive Error (MAPE) of 9 \u2212 13% depending on the facility. Champion et al [12] performed an analysis of monthly demand at an emergency department in regional Victoria. They applied exponential smoothing and Box-Jenkins methods to five years worth of admissions data. Hoot et al [21] carried out a discrete event simulation in order to obtain forecasts for 2, 4, 6 and 8 hours into the future. The authors analysed waiting times, length of stay and bed occupancy.",
            "cite_spans": [
                {
                    "start": 293,
                    "end": 296,
                    "text": "[6]",
                    "ref_id": "BIBREF5"
                },
                {
                    "start": 658,
                    "end": 662,
                    "text": "[28]",
                    "ref_id": "BIBREF27"
                },
                {
                    "start": 878,
                    "end": 882,
                    "text": "[24]",
                    "ref_id": "BIBREF23"
                },
                {
                    "start": 1386,
                    "end": 1390,
                    "text": "[12]",
                    "ref_id": "BIBREF11"
                },
                {
                    "start": 1590,
                    "end": 1594,
                    "text": "[21]",
                    "ref_id": "BIBREF20"
                }
            ],
            "ref_spans": [],
            "section": "Previous work"
        },
        {
            "text": "We develop a novel, predictive framework to understand the temporal dynamics of hospital demand and we apply an exhaustive statistical analysis to daily presentations at EDs at St Mary's and Charing Cross Hospitals, evaluating a range of standard time series and machine learning approaches and ultimately developing our own unique approach. In contrast to existing studies, we do not only focus on the application of time series algorithms in order to characterise demand but develop a generic procedure that allows us to compare and combine both time series and machine learning algorithms in order to obtain an informative, more appropriate and consistently accurate approach to the prediction of demand. Our models have the ability to be retrained regularly and efficiently and are therefore a powerful tool for online platforms and near real time prediction. Using novel data from electronic logging systems from eight years of daily presentations to EDs at St Mary's and Charing Cross Hospitals in London, we construct a model that predicts the number of daily arrivals to both hospitals. Our analysis accounts for seasonal fluctuations, daily observed weather data and specific, pre-planned events indicated by staff at both EDs such as the yearly Notting Hill Carnival. Using our procedure can help the hospitals with the provision of the right staffing numbers and deploying resources in the most effective way. Figure 1 ). In order to investigate the demand dynamics, we also collected data on school [30] and bank holidays [20] , as well as on the weather and Google search volume for the word \"flu\" [2, 19] (see the Appendix for more details). Finally, experienced staff at the EDs of both hospitals provided us with a list of specific known events in the locality that cause surge in demand (e.g. the Notting Hill carnival -an annual festival taking place in the catchment area of the hospital).",
            "cite_spans": [
                {
                    "start": 1511,
                    "end": 1515,
                    "text": "[30]",
                    "ref_id": "BIBREF29"
                },
                {
                    "start": 1534,
                    "end": 1538,
                    "text": "[20]",
                    "ref_id": "BIBREF19"
                },
                {
                    "start": 1611,
                    "end": 1614,
                    "text": "[2,",
                    "ref_id": "BIBREF1"
                },
                {
                    "start": 1615,
                    "end": 1618,
                    "text": "19]",
                    "ref_id": "BIBREF18"
                }
            ],
            "ref_spans": [
                {
                    "start": 1421,
                    "end": 1429,
                    "text": "Figure 1",
                    "ref_id": null
                }
            ],
            "section": "Our contribution"
        },
        {
            "text": "A central aim of this paper is not only to predict hospital demand accurately but also attempt to understand the factors driving hospital demand. Daily data is driven by a complex web of exogenous variables, many of which are related to seasonal patterns or trends. Both time series depicted in Figure  1 show a strong underlying trend. In the case of Charing Cross Hospital this trend is clearly upwards while it goes downwards first for St Mary's Hospital due to a change of the hospital's infrastructure, see Figure 2 . There is also clear seasonality, the monthly attendance at St Mary's Hospital shows a very clear monthly periodic pattern with troughs in January, April and August and a rise in attendance during the winter months (likely due to increases in acute respiratory infections), see Figure 3 . ED admissions together with the flu season. It also shows that the flu seasons contribution to increased demand runs well into spring. While the monthly attendance at Charing Cross Hospital also shows some periodic behaviour, it is not as strong, see Figure 4 . It is therefore useful to note that dynamics differ even from geographically close hospitals with overlapping catchments. Both series show clear dayof-week patterns, characterised by a strong autocorrelation with respect to their lagged values of order 7, see Figure 5 . Mondays have the highest volume of attendances at both hospitals while attendance reaches its minimum during weekends. This finding validates and confirms other studies on hospital demand [15, 14] .",
            "cite_spans": [
                {
                    "start": 1532,
                    "end": 1536,
                    "text": "[15,",
                    "ref_id": "BIBREF14"
                },
                {
                    "start": 1537,
                    "end": 1540,
                    "text": "14]",
                    "ref_id": "BIBREF13"
                }
            ],
            "ref_spans": [
                {
                    "start": 295,
                    "end": 304,
                    "text": "Figure  1",
                    "ref_id": null
                },
                {
                    "start": 512,
                    "end": 520,
                    "text": "Figure 2",
                    "ref_id": null
                },
                {
                    "start": 800,
                    "end": 808,
                    "text": "Figure 3",
                    "ref_id": "FIGREF1"
                },
                {
                    "start": 1062,
                    "end": 1070,
                    "text": "Figure 4",
                    "ref_id": "FIGREF2"
                },
                {
                    "start": 1333,
                    "end": 1341,
                    "text": "Figure 5",
                    "ref_id": "FIGREF4"
                }
            ],
            "section": "Exploratory data analysis"
        },
        {
            "text": "We focus on forecasting demand one, three, and seven days into the future. These particular forecasting intervals are relevant as they allow the hospitals to take action by using short term measures such as the cancellation of elective surgeries or the hiring of additional staff through agencies.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Methods and algorithms"
        },
        {
            "text": "We use two different kinds of algorithms for our predictions: traditional time series and machine learning algorithms [26] . A discrete time series is a sequence of data points in chronological order divided into regular time intervals. The fundamental assumption behind both algorithms is that data points that are close to each other in time show a similar behaviour and that there is a dependency between data points at the same position of the time interval, e.g. same time of the year or same day of the week. Time series algorithms use both the chronology of the events and the specified interval in order to make inference and split the time series into different linear components such as seasonality, trend and a residual. The residual, which is assumed to contain some correlative structure, is usually modelled using an autoregressive stochastic process or exponential decay where future values are predicted based on past values [26] . In contrast, machine learning algorithms specify a broad function class (such as trees or smooth curves) with sufficient capacity to learn complex functions. These algorithms learn from data balancing function complexity with predictive accuracy. For both sets of algorithms we create a model (design) matrix containing explanatory variables. For the time series algorithms only lagged demand from previous time points were used. For the machine learning algorithm lagged demand values were used alongside other covariates (see Table 1 ). As predictors we have chosen past values such as demand on the previous day, last week and the average of the past week as well as indicators for bank holidays and school holidays. Moreover, we use data from some of the surrounding weather stations on precipitation, minimal and maximal temperature as covariates. Finally, we use search engine query data as a covariate, as it has proven to be a very efficient measure for the detection of influenza epidemics [18] . Table 1 shows a few rows of our model matrix. 2. ETS -Exponential smoothing methods [22] In general exponential smoothing refers to forecasting methods which also regress on lagged values of the target variable. However, it uses exponentially decreasing weights for past observations. The ETS model we employ uses exponential smoothing for error, trend and seasonality.",
            "cite_spans": [
                {
                    "start": 118,
                    "end": 122,
                    "text": "[26]",
                    "ref_id": "BIBREF25"
                },
                {
                    "start": 941,
                    "end": 945,
                    "text": "[26]",
                    "ref_id": "BIBREF25"
                },
                {
                    "start": 1947,
                    "end": 1951,
                    "text": "[18]",
                    "ref_id": "BIBREF17"
                },
                {
                    "start": 2038,
                    "end": 2042,
                    "text": "[22]",
                    "ref_id": "BIBREF21"
                }
            ],
            "ref_spans": [
                {
                    "start": 1476,
                    "end": 1483,
                    "text": "Table 1",
                    "ref_id": null
                },
                {
                    "start": 1954,
                    "end": 1961,
                    "text": "Table 1",
                    "ref_id": null
                }
            ],
            "section": "Methods and algorithms"
        },
        {
            "text": "3. STLM -a seasonal decomposition of time series by LOESS (STL)a seasonal decomposition of time series by LOESS (STL) STLM is another type of exponential smoothing model. The time series is decomposed into its seasonal components using LOESS (locally estimated scatterplot smoothing) before exponential smoothing is used to model the error and trend component of the time series. Finally the series is re-seasonalized.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Methods and algorithms"
        },
        {
            "text": "A StructTS model is formulated directly in terms of unobserved components, such as trends, seasonality and exogenous factors that have a natural interpretation. The StructTS model forms a state space which makes it similar to the ARIMA and ETS models.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "StructTS -Structural Time Series Model [22]"
        },
        {
            "text": "1. glmnet [17] is a penalised generalized linear model with built-in variable selection. The glmnet model is an extension of the generalised linear model in which bias (penalty/weight decay/regulariser) is introduced in the form of a mixture penalty consisting of the parameter 1 and 2 norms. The magnitude of this penalty is tuned to balance overfitting vs. underfitting, with the goal of reducing variance by introducing some bias.",
            "cite_spans": [
                {
                    "start": 10,
                    "end": 14,
                    "text": "[17]",
                    "ref_id": "BIBREF16"
                }
            ],
            "ref_spans": [],
            "section": "Machine learning algorithms"
        },
        {
            "text": "2. ranger [33] is a fast implementation of random forests [8] . Random forests are a bagged ensemble of decision trees. Random forests use bootstrapped random subsets of the covariates variables to build decision trees based on these subsets. Random forests prevent overfitting by averaging to reduce variance.",
            "cite_spans": [
                {
                    "start": 10,
                    "end": 14,
                    "text": "[33]",
                    "ref_id": "BIBREF32"
                },
                {
                    "start": 58,
                    "end": 61,
                    "text": "[8]",
                    "ref_id": "BIBREF7"
                }
            ],
            "ref_spans": [],
            "section": "Machine learning algorithms"
        },
        {
            "text": "3. Gradient Boosting Machines (gbm) [16] are a generalized boosted regression model. In contrast to random forests which builds a collection of multiple independent decision trees, the decision trees created by gradient boosting machines depend additively on each other. Each new tree is added to an ensemble by improving the previous trees residual error (the functional negative gradient).",
            "cite_spans": [
                {
                    "start": 36,
                    "end": 40,
                    "text": "[16]",
                    "ref_id": "BIBREF15"
                }
            ],
            "ref_spans": [],
            "section": "Machine learning algorithms"
        },
        {
            "text": "Hyperparameters are tuned to balance over and under fitting.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Machine learning algorithms"
        },
        {
            "text": "4. k-nearest neighbours (k-NN) [5] is a classic supervised learning algorithm based on the idea that data points that are close to each other in the space of covariates should have similar predictions. Hence, to make a prediction at a given location in covariate space, an average of the labels of the k nearest neighbours is taken. The disadvantage of this algorithm is that it slows down quickly once the volume of data points increases.",
            "cite_spans": [
                {
                    "start": 31,
                    "end": 34,
                    "text": "[5]",
                    "ref_id": "BIBREF4"
                }
            ],
            "ref_spans": [],
            "section": "Machine learning algorithms"
        },
        {
            "text": "All the above algorithms have strengths and weaknesses. It is therefore challenging to choose a single model for prediction. We therefore create a consensus model by adopting stacked regression, a particularly effective ensemble approach. The idea of stacked regression is to combine the diversity and strengths of multiple algorithms into a single model with a better overall ability to generalise. We choose a linear stacking model subject to convex combination constraints [7] . Following [7, 32] we train a linear stacker on cross validation predictions of the individual time series and machine learning models. This procedure helps us avoid selecting models that overfit to the data. Stacking models is not only empirically motivated, but has a strong theoretical backing and has been proven to perform perform asymptotically exactly as well (by some loss metric) as the best possible choice for the given data set among the family of weighted combinations of the estimators. Stacking has also been showing to work in a variety of settings [4] .",
            "cite_spans": [
                {
                    "start": 476,
                    "end": 479,
                    "text": "[7]",
                    "ref_id": "BIBREF6"
                },
                {
                    "start": 492,
                    "end": 495,
                    "text": "[7,",
                    "ref_id": "BIBREF6"
                },
                {
                    "start": 496,
                    "end": 499,
                    "text": "32]",
                    "ref_id": "BIBREF31"
                },
                {
                    "start": 1046,
                    "end": 1049,
                    "text": "[4]",
                    "ref_id": "BIBREF3"
                }
            ],
            "ref_spans": [],
            "section": "Stacked Regression"
        },
        {
            "text": "Developing an algorithm with the best possible forecast accuracy is the main goal of this study. However, care must be taken to ensure that these forecasts are not simply overfitting to noise in the data but are accurate and can truly forecast to unseen data. A key innovation of this paper is the development of a novel general purpose time series cross validation procedure to ensure that: Temporal or time series cross-validation [22] is a method to split the data into testing and training sets in order to account for temporal structure in the data. The main idea is that each test set only consists of a forecasting window of one day which lies one, three or seven days in the future while the corresponding training set consists of a number of observations prior to the forecasting window. The origin can either be fixed so that the length of the training window grows by one, three, or seven days for each new test set or it can move forward so that the training window size remains fixed. We employ the latter method.",
            "cite_spans": [
                {
                    "start": 433,
                    "end": 437,
                    "text": "[22]",
                    "ref_id": "BIBREF21"
                }
            ],
            "ref_spans": [],
            "section": "Validation and evaluation"
        },
        {
            "text": "Using temporal cross-validation for time series algorithms only requires splitting the data into a training and test set. Adapting the data so that the last 730 days (24 months) of data are held out for testing, 2140 days (roughly six years) were available for training which corresponds to a \u223c 75%/25% split. We then applied temporal cross validation to each day in the test set (see Figure 6 ) using a rolling window so that all training sets consist of the same number of days.",
            "cite_spans": [],
            "ref_spans": [
                {
                    "start": 385,
                    "end": 393,
                    "text": "Figure 6",
                    "ref_id": null
                }
            ],
            "section": "Validation and evaluation"
        },
        {
            "text": "Given the fairness and robustness of our cross validation scheme, we are confident that our results are robust to data shift and not only valid for the data times we have collected. Figure 6 : Splitting the data into training, (one day) validation and test set.",
            "cite_spans": [],
            "ref_spans": [
                {
                    "start": 182,
                    "end": 190,
                    "text": "Figure 6",
                    "ref_id": null
                }
            ],
            "section": "Validation and evaluation"
        },
        {
            "text": "In order to allow for a fair comparison of the machine learning algorithms, the method for temporal crossvalidation has to be adapted as most machine learning algorithms require tuning of their hyperparameters to balance over and under fitting. Therefore we also have to split the training data into a training and a validation set in order to choose the best set of hyperparameters which minimizes the error on the validation set. All machine learning algorithms listed in Section 4.2 were trained on 4 years worth of data and their hyperparameters were compared on a validation set consisting of 730 days. In our analysis we have used two different approaches to split the training set and to choose the hyperparameters. We will call these the batch and the online method.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Validation of hyperparameters"
        },
        {
            "text": "In order to choose the set of hyperparameters which minimizes the error on the validation set, we consider five different approaches. We choose the set of hyperparameters which minimize the error 1. on the previous day, 2. on the past n days, 3 . over the whole validation period using an exponential moving average, 4. averaged over the whole validation period, or 5. according to caret's built in rules (see [25] ).",
            "cite_spans": [
                {
                    "start": 243,
                    "end": 244,
                    "text": "3",
                    "ref_id": "BIBREF2"
                },
                {
                    "start": 410,
                    "end": 414,
                    "text": "[25]",
                    "ref_id": "BIBREF24"
                }
            ],
            "ref_spans": [],
            "section": "The batch method"
        },
        {
            "text": "For each of the five cases above, we choose the best set of hyperparameters for each day of the test set and refitted all models on a daily basis. Of course refitting every model for each day of the test set is computationally expensive. Therefore we develop an online method, described below.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The batch method"
        },
        {
            "text": "In the batch method described above, all models are refitted daily, which takes significant computational power to run and might not be feasible for a deployed version of our methods in a hospital setting. Thus, we explore whether keeping the parameters fixed for longer periods, which yields significant savings in terms of computation, hurts performance. We refit each model over several testing periods of various sizes which are subsets of the test set of length 730 days with a rolling origin. Our chosen testing periods are 1 day, 7 days, 30 days, 60 days, 365 days and 730 days long. That means that we validated the best set of hyperparameters for each algorithm for every testing period, and then rolled forwards. The final error rates are the result of the overall error on all predictions on the whole test set of length 730. ",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The online method"
        },
        {
            "text": "We compare the mean absolute error (MAE) and mean absolute percentage error (MAPE) rates for all time series algorithms as well as for the batch and the online method as outlined in Section 5.1.1 and 5.1.2. Finally, we compare our results with the stacked regression.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Results"
        },
        {
            "text": "The MAE of the time series algorithms range from 14.46 to 17 as shown in Table 2 , with an MAPE ranging from from 6.9% to 8.3%. Hence, although the time series algorithms are simpler and only based on the time series without using any other predictors, such as weather, bank or school holidays (see Table 1 for details on all predictors), they already give relatively accurate results. In case of the machine learning algorithms, independent of the type of hyperparameter tuning we use, most of the results for the batch methods range between an MAE of 14.3 to 15.2 and an MAPE of 6.8% \u2212 7.4%, as shown in Table  3 . Only the k-nearest neighbour algorithm performs worse despite different ways of tuning. Especially when using the online method, see Table 5 , the linear models produce the best results for St Mary's hospital with an MAPE of 6.8% in the case of daily retraining of the generalized linear model. ",
            "cite_spans": [],
            "ref_spans": [
                {
                    "start": 73,
                    "end": 80,
                    "text": "Table 2",
                    "ref_id": "TABREF3"
                },
                {
                    "start": 299,
                    "end": 306,
                    "text": "Table 1",
                    "ref_id": null
                },
                {
                    "start": 606,
                    "end": 614,
                    "text": "Table  3",
                    "ref_id": "TABREF5"
                },
                {
                    "start": 750,
                    "end": 757,
                    "text": "Table 5",
                    "ref_id": "TABREF8"
                }
            ],
            "section": "St Mary's Hospital"
        },
        {
            "text": "The results for Charing Cross Hospital are similar although the error rates are slightly increased. As shown in Table 2 , most time series algorithms yield MAE error rates between 10.5% and 14.5% while the corresponding MAPE error rates range from 8.5% to 12%. The best performance reached using the batch method is also around 10.5% although the overall performance is a little bit better, see Table 4 .",
            "cite_spans": [],
            "ref_spans": [
                {
                    "start": 112,
                    "end": 119,
                    "text": "Table 2",
                    "ref_id": "TABREF3"
                },
                {
                    "start": 395,
                    "end": 402,
                    "text": "Table 4",
                    "ref_id": "TABREF6"
                }
            ],
            "section": "Charing Cross Hospital"
        },
        {
            "text": "In case of the online method, the MAPE error rates are as low as 8.6% for gradient boosting machine, the generalized linear model or a simple linear model retrained on a daily basis, as shown in Table 5 .",
            "cite_spans": [],
            "ref_spans": [
                {
                    "start": 195,
                    "end": 202,
                    "text": "Table 5",
                    "ref_id": "TABREF8"
                }
            ],
            "section": "Charing Cross Hospital"
        },
        {
            "text": "In order to make use of the strengths of all algorithms, we applied a generalised linear model as well as a penalized regression to create an effective ensemble approach, see Figure 6 for details. The best performance was achieved using penalized regression with an MAE error rate of 14.51 for St Mary's Hospital and 10.60 for Charing Cross Hospital.",
            "cite_spans": [],
            "ref_spans": [
                {
                    "start": 175,
                    "end": 183,
                    "text": "Figure 6",
                    "ref_id": null
                }
            ],
            "section": "Stacked Regression"
        },
        {
            "text": "In our analysis we consider a variety of predictors ranging from past values of ED attendance, to the weather forecast and to school and bank holidays. The question left to answer is therefore which of the predictors are actually important for making accurate predictions? Could some of them actually be redundant?",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Interpretation of results"
        },
        {
            "text": "In machine learning, variable importance can be defined as the dependence between input and output variables and computed by permuting the values of a given predictor and calculating error on a held out set. This measure has drawbacks in the case of multicollinearity, which could suppress the importance of certain variables in some models. As shown in Figure 8 , the most important variable predicting demand is the average demand the week before -except for glmnet -followed by specific days and months. The importance of these variables varies considerably between algorithms but largely is consistent with one another. To our knowledge, this is the first attempt to quantify the importance of variables in predicting demand. We believe that these importance percentages can be utilised as heuristics to help staff improve their prediction of demand in the absence of statistical analysis.",
            "cite_spans": [],
            "ref_spans": [
                {
                    "start": 354,
                    "end": 362,
                    "text": "Figure 8",
                    "ref_id": "FIGREF8"
                }
            ],
            "section": "Interpretation of results"
        },
        {
            "text": "The results of our analysis highlight interesting statistical properties: simple linear methods like generalized linear models are often better or at least as good as ensemble learning methods like the gradient boosting or random forest algorithm. However, though sophisticated machine learning methods are not necessarily better than linear models, they improve the diversity of model predictions so that stacked predictions are more robust and accurate than any single model including the best performing one. This largely confirms a 'wisdom of the crowd' rule for ensemble learning.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Conclusion"
        },
        {
            "text": "The online method we have created has the ability to provide accurate results with a very quick turnaround time: an average model only takes a couple of minutes to train and forecast. Running it over longer periods of time without retraining of the model is much faster and at the same time not significantly worse than tuning the hyperparameters on a daily basis.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Conclusion"
        },
        {
            "text": "The framework, analysis and methodology proposed in this paper are highly relevant from an operational viewpoint. To the authors knowledge, the majority of EDs in the UK do try to account for demand, but do so using ad hoc heuristics. Our approach provides some scientifically backed information to improve these heuristics, but more importantly provides a framework that is quick and easy to implement. Estimates of 1, 3 and 7 day demand forecasts can be created at any time and updated easily allowing statistically backed estimates to be used to inform hospital policy and practice. Our hope is this paper will fill a knowledge gap and increase hospitals uptake in the use of these methods. Given epidemics and disease outbreaks that can strain health systems, our approach can provide added precision to help EDs operate as efficiently as possible. The challenge will then be for teams in hospitals to implement more insightdriven ways of working, more flexible approaches to rostering staff and innovative ways of communicating with their local communities.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Conclusion"
        },
        {
            "text": "In an era of precision medicine, future work will undoubtedly focus on granular data sets including individual level patient data with diagnoses and testing information. This will not only help to improve performance of the predictions but also help to understand dependencies between seasonality, events and reasons for ED presentations. This may come at the cost of longer running times but only an in depth analysis of patient's pathways, the rate of admission for different diagnoses and their corresponding bed occupancy will help improve hospital planning substantially.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Conclusion"
        },
        {
            "text": "We ",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Acknowledgements"
        },
        {
            "text": "The authors declare that they have no competing interests.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Competing interests"
        },
        {
            "text": "For weather data we used minimum and maximum daily temperatures as reported by the Met Office [10, 11] from the following weather station:",
            "cite_spans": [
                {
                    "start": 94,
                    "end": 98,
                    "text": "[10,",
                    "ref_id": "BIBREF9"
                },
                {
                    "start": 99,
                    "end": 102,
                    "text": "11]",
                    "ref_id": "BIBREF10"
                }
            ],
            "ref_spans": [],
            "section": "Appendix"
        },
        {
            "text": "\u2022 ID 697 St. James's Park (postcode SW1A 1), straight line distance: 2.3 miles/3.7 km to St Mary's hospital and 4.23 miles/6.81 km to Charing Cross Hospital.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Appendix"
        },
        {
            "text": "Data on the daily precipitation in London is publicly available [1] .",
            "cite_spans": [
                {
                    "start": 64,
                    "end": 67,
                    "text": "[1]",
                    "ref_id": "BIBREF0"
                }
            ],
            "ref_spans": [],
            "section": "Appendix"
        },
        {
            "text": "The number of Google searches for \"flu\" on the google search engine is also publicly available and can be downloaded from Google trends [19] . Google provides data on the relative search volume and assigns a score between 1 and 100 to every time unit within the time frame specified by the user. However, the length of this time unit is specified by Google, so the data within the time frame may only show the weekly or monthly searches for \"flu\". Therefore we have to adjust the data by taking both the daily data, downloaded within a time frame of six months, and monthly data, downloaded over the past few years, into account [2] .",
            "cite_spans": [
                {
                    "start": 136,
                    "end": 140,
                    "text": "[19]",
                    "ref_id": "BIBREF18"
                },
                {
                    "start": 629,
                    "end": 632,
                    "text": "[2]",
                    "ref_id": "BIBREF1"
                }
            ],
            "ref_spans": [],
            "section": "Appendix"
        }
    ],
    "bib_entries": {
        "BIBREF0": {
            "ref_id": "b0",
            "title": "Daily areal rainfall calculations",
            "authors": [
                {
                    "first": "Environment",
                    "middle": [],
                    "last": "Agency",
                    "suffix": ""
                }
            ],
            "year": 2019,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": "",
            "other_ids": {}
        },
        "BIBREF1": {
            "ref_id": "b1",
            "title": "Google trends: How to acquire daily data for broad time frames",
            "authors": [
                {
                    "first": "B",
                    "middle": [],
                    "last": "Franz",
                    "suffix": ""
                }
            ],
            "year": 2019,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": "",
            "other_ids": {}
        },
        "BIBREF2": {
            "ref_id": "b2",
            "title": "Nhs key statistics, england",
            "authors": [
                {
                    "first": "Carl",
                    "middle": [],
                    "last": "Baker",
                    "suffix": ""
                }
            ],
            "year": 2020,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": "",
            "other_ids": {}
        },
        "BIBREF3": {
            "ref_id": "b3",
            "title": "Improved prediction accuracy for disease risk mapping using Gaussian Process stacked generalisation",
            "authors": [
                {
                    "first": "Samir",
                    "middle": [],
                    "last": "Bhatt",
                    "suffix": ""
                },
                {
                    "first": "Ewan",
                    "middle": [],
                    "last": "Cameron",
                    "suffix": ""
                },
                {
                    "first": "",
                    "middle": [],
                    "last": "Seth R Flaxman",
                    "suffix": ""
                },
                {
                    "first": "J",
                    "middle": [],
                    "last": "Daniel",
                    "suffix": ""
                },
                {
                    "first": "David",
                    "middle": [
                        "L"
                    ],
                    "last": "Weiss",
                    "suffix": ""
                },
                {
                    "first": "Peter",
                    "middle": [
                        "W"
                    ],
                    "last": "Smith",
                    "suffix": ""
                },
                {
                    "first": "",
                    "middle": [],
                    "last": "Gething",
                    "suffix": ""
                }
            ],
            "year": 2017,
            "venue": "Journal of the Royal Society, Interface",
            "volume": "14",
            "issn": "134",
            "pages": "",
            "other_ids": {
                "DOI": [
                    "10.1098/rsif.2017.0520"
                ],
                "arXiv": [
                    "arXiv:1612.03278"
                ]
            }
        },
        "BIBREF4": {
            "ref_id": "b4",
            "title": "Pattern Recognition and Machine Learning",
            "authors": [
                {
                    "first": "M",
                    "middle": [],
                    "last": "Christopher",
                    "suffix": ""
                },
                {
                    "first": "",
                    "middle": [],
                    "last": "Bishop",
                    "suffix": ""
                }
            ],
            "year": 2006,
            "venue": "",
            "volume": "4",
            "issn": "",
            "pages": "",
            "other_ids": {
                "DOI": [
                    "10.1117/1.2819119"
                ]
            }
        },
        "BIBREF5": {
            "ref_id": "b5",
            "title": "Predicting emergency department admissions",
            "authors": [
                {
                    "first": "Justin",
                    "middle": [],
                    "last": "Boyle",
                    "suffix": ""
                },
                {
                    "first": "Melanie",
                    "middle": [],
                    "last": "Jessup",
                    "suffix": ""
                },
                {
                    "first": "Julia",
                    "middle": [],
                    "last": "Crilly",
                    "suffix": ""
                },
                {
                    "first": "David",
                    "middle": [],
                    "last": "Green",
                    "suffix": ""
                },
                {
                    "first": "James",
                    "middle": [],
                    "last": "Lind",
                    "suffix": ""
                },
                {
                    "first": "Marianne",
                    "middle": [],
                    "last": "Wallis",
                    "suffix": ""
                },
                {
                    "first": "Peter",
                    "middle": [],
                    "last": "Miller",
                    "suffix": ""
                },
                {
                    "first": "Gerard",
                    "middle": [],
                    "last": "Fitzgerald",
                    "suffix": ""
                }
            ],
            "year": 2012,
            "venue": "Emerg Med J",
            "volume": "29",
            "issn": "5",
            "pages": "358--365",
            "other_ids": {}
        },
        "BIBREF6": {
            "ref_id": "b6",
            "title": "Stacked regressions. Machine learning",
            "authors": [
                {
                    "first": "Leo",
                    "middle": [],
                    "last": "Breiman",
                    "suffix": ""
                }
            ],
            "year": 1996,
            "venue": "",
            "volume": "24",
            "issn": "",
            "pages": "49--64",
            "other_ids": {}
        },
        "BIBREF7": {
            "ref_id": "b7",
            "title": "Random forests. Machine learning",
            "authors": [
                {
                    "first": "Leo",
                    "middle": [],
                    "last": "Breiman",
                    "suffix": ""
                }
            ],
            "year": 2001,
            "venue": "",
            "volume": "45",
            "issn": "",
            "pages": "5--32",
            "other_ids": {
                "DOI": [
                    "10.1023/A:1010933404324"
                ]
            }
        },
        "BIBREF8": {
            "ref_id": "b8",
            "title": "Acute Care and Pensions & Employment Services /13710 Workforce/ Workforce/Pay. Title: The nhs pay review body (nhsprb) review for 2018: Written evidence from the department for health and social care for england",
            "authors": [],
            "year": 2018,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": "",
            "other_ids": {}
        },
        "BIBREF9": {
            "ref_id": "b9",
            "title": "Midas: Uk daily rainfall data",
            "authors": [],
            "year": 2006,
            "venue": "NCAS British Atmospheric Data Centre. Met office",
            "volume": "",
            "issn": "",
            "pages": "",
            "other_ids": {}
        },
        "BIBREF10": {
            "ref_id": "b10",
            "title": "Midas: Uk daily temperature data",
            "authors": [],
            "year": 2006,
            "venue": "NCAS British Atmospheric Data Centre. Met office",
            "volume": "",
            "issn": "",
            "pages": "",
            "other_ids": {}
        },
        "BIBREF11": {
            "ref_id": "b11",
            "title": "Forecasting emergency department presentations",
            "authors": [
                {
                    "first": "Robert",
                    "middle": [],
                    "last": "Champion",
                    "suffix": ""
                },
                {
                    "first": "D",
                    "middle": [],
                    "last": "Leigh",
                    "suffix": ""
                },
                {
                    "first": "Geraldine",
                    "middle": [
                        "A"
                    ],
                    "last": "Kinsman",
                    "suffix": ""
                },
                {
                    "first": "Kevin",
                    "middle": [
                        "A"
                    ],
                    "last": "Lee",
                    "suffix": ""
                },
                {
                    "first": "Elizabeth",
                    "middle": [
                        "A"
                    ],
                    "last": "Masman",
                    "suffix": ""
                },
                {
                    "first": "Terence",
                    "middle": [
                        "M"
                    ],
                    "last": "May",
                    "suffix": ""
                },
                {
                    "first": "",
                    "middle": [],
                    "last": "Mills",
                    "suffix": ""
                },
                {
                    "first": "D",
                    "middle": [],
                    "last": "Michael",
                    "suffix": ""
                },
                {
                    "first": "",
                    "middle": [],
                    "last": "Taylor",
                    "suffix": ""
                },
                {
                    "first": "R",
                    "middle": [],
                    "last": "Paulett",
                    "suffix": ""
                },
                {
                    "first": "Ruth J",
                    "middle": [],
                    "last": "Thomas",
                    "suffix": ""
                },
                {
                    "first": "",
                    "middle": [],
                    "last": "Williams",
                    "suffix": ""
                }
            ],
            "year": 2007,
            "venue": "Australian Health Review",
            "volume": "31",
            "issn": "1",
            "pages": "83--90",
            "other_ids": {}
        },
        "BIBREF12": {
            "ref_id": "b12",
            "title": "Reference costs 2017/18: highlights, analysis and introduction to the data",
            "authors": [
                {
                    "first": "",
                    "middle": [],
                    "last": "Nhs England",
                    "suffix": ""
                }
            ],
            "year": 2018,
            "venue": "November",
            "volume": "",
            "issn": "",
            "pages": "",
            "other_ids": {}
        },
        "BIBREF13": {
            "ref_id": "b13",
            "title": "Hospital accident and emergency activity 2017-18",
            "authors": [
                {
                    "first": "Nhs",
                    "middle": [],
                    "last": "England",
                    "suffix": ""
                }
            ],
            "year": 2018,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": "",
            "other_ids": {}
        },
        "BIBREF14": {
            "ref_id": "b14",
            "title": "Accident and emergency attendances in england",
            "authors": [
                {
                    "first": "Nhs",
                    "middle": [],
                    "last": "England",
                    "suffix": ""
                }
            ],
            "year": 2008,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": "",
            "other_ids": {}
        },
        "BIBREF15": {
            "ref_id": "b15",
            "title": "Greedy function approximation: a gradient boosting machine",
            "authors": [
                {
                    "first": "J H",
                    "middle": [],
                    "last": "Friedman",
                    "suffix": ""
                }
            ],
            "year": 2001,
            "venue": "Annals of Statistics",
            "volume": "",
            "issn": "",
            "pages": "1189--1232",
            "other_ids": {}
        },
        "BIBREF16": {
            "ref_id": "b16",
            "title": "Regularization paths for generalized linear models via coordinate descent",
            "authors": [
                {
                    "first": "Jerome",
                    "middle": [],
                    "last": "Friedman",
                    "suffix": ""
                },
                {
                    "first": "Trevor",
                    "middle": [],
                    "last": "Hastie",
                    "suffix": ""
                },
                {
                    "first": "Robert",
                    "middle": [],
                    "last": "Tibshirani",
                    "suffix": ""
                }
            ],
            "year": 2010,
            "venue": "Journal of Statistical Software",
            "volume": "33",
            "issn": "1",
            "pages": "1--22",
            "other_ids": {}
        },
        "BIBREF17": {
            "ref_id": "b17",
            "title": "Detecting influenza epidemics using search engine query data",
            "authors": [
                {
                    "first": "Jeremy",
                    "middle": [],
                    "last": "Ginsberg",
                    "suffix": ""
                },
                {
                    "first": "H",
                    "middle": [],
                    "last": "Matthew",
                    "suffix": ""
                },
                {
                    "first": "",
                    "middle": [],
                    "last": "Mohebbi",
                    "suffix": ""
                },
                {
                    "first": "S",
                    "middle": [],
                    "last": "Rajan",
                    "suffix": ""
                },
                {
                    "first": "Lynnette",
                    "middle": [],
                    "last": "Patel",
                    "suffix": ""
                },
                {
                    "first": "",
                    "middle": [],
                    "last": "Brammer",
                    "suffix": ""
                },
                {
                    "first": "S",
                    "middle": [],
                    "last": "Mark",
                    "suffix": ""
                },
                {
                    "first": "Larry",
                    "middle": [],
                    "last": "Smolinski",
                    "suffix": ""
                },
                {
                    "first": "",
                    "middle": [],
                    "last": "Brilliant",
                    "suffix": ""
                }
            ],
            "year": 2009,
            "venue": "Nature",
            "volume": "457",
            "issn": "7232",
            "pages": "",
            "other_ids": {}
        },
        "BIBREF18": {
            "ref_id": "b18",
            "title": "Google trends",
            "authors": [],
            "year": 2019,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": "",
            "other_ids": {}
        },
        "BIBREF19": {
            "ref_id": "b19",
            "title": "Bank holidays",
            "authors": [],
            "year": 2019,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": "",
            "other_ids": {}
        },
        "BIBREF20": {
            "ref_id": "b20",
            "title": "Forecasting emergency department crowding: a discrete event simulation",
            "authors": [
                {
                    "first": "R",
                    "middle": [],
                    "last": "Nathan",
                    "suffix": ""
                },
                {
                    "first": "",
                    "middle": [],
                    "last": "Hoot",
                    "suffix": ""
                },
                {
                    "first": "J",
                    "middle": [],
                    "last": "Larry",
                    "suffix": ""
                },
                {
                    "first": "Ian",
                    "middle": [],
                    "last": "Leblanc",
                    "suffix": ""
                },
                {
                    "first": "",
                    "middle": [],
                    "last": "Jones",
                    "suffix": ""
                },
                {
                    "first": "Chuan",
                    "middle": [],
                    "last": "Scott R Levin",
                    "suffix": ""
                },
                {
                    "first": "Cynthia",
                    "middle": [
                        "S"
                    ],
                    "last": "Zhou",
                    "suffix": ""
                },
                {
                    "first": "Dominik",
                    "middle": [],
                    "last": "Gadd",
                    "suffix": ""
                },
                {
                    "first": "",
                    "middle": [],
                    "last": "Aronsky",
                    "suffix": ""
                }
            ],
            "year": 2008,
            "venue": "Annals of emergency medicine",
            "volume": "52",
            "issn": "2",
            "pages": "116--125",
            "other_ids": {}
        },
        "BIBREF21": {
            "ref_id": "b21",
            "title": "Forecasting: principles and practice",
            "authors": [
                {
                    "first": "J",
                    "middle": [],
                    "last": "Rob",
                    "suffix": ""
                },
                {
                    "first": "George",
                    "middle": [],
                    "last": "Hyndman",
                    "suffix": ""
                },
                {
                    "first": "",
                    "middle": [],
                    "last": "Athanasopoulos",
                    "suffix": ""
                }
            ],
            "year": 2018,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": "",
            "other_ids": {}
        },
        "BIBREF22": {
            "ref_id": "b22",
            "title": "Falling short: the nhs workforce challenge, workforce profile and trends of the nhs in england",
            "authors": [
                {
                    "first": "Anita Charlesworth Ian Seccombe James",
                    "middle": [],
                    "last": "Buchan",
                    "suffix": ""
                },
                {
                    "first": "Ben",
                    "middle": [],
                    "last": "Gershlick",
                    "suffix": ""
                }
            ],
            "year": 2019,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": "",
            "other_ids": {}
        },
        "BIBREF23": {
            "ref_id": "b23",
            "title": "Forecasting daily patient volumes in the emergency department",
            "authors": [
                {
                    "first": "S",
                    "middle": [],
                    "last": "Spencer",
                    "suffix": ""
                },
                {
                    "first": "Alun",
                    "middle": [],
                    "last": "Jones",
                    "suffix": ""
                },
                {
                    "first": "Scott",
                    "middle": [],
                    "last": "Thomas",
                    "suffix": ""
                },
                {
                    "first": "Shari",
                    "middle": [
                        "J"
                    ],
                    "last": "Evans",
                    "suffix": ""
                },
                {
                    "first": "",
                    "middle": [],
                    "last": "Welch",
                    "suffix": ""
                },
                {
                    "first": "J",
                    "middle": [],
                    "last": "Peter",
                    "suffix": ""
                },
                {
                    "first": "Gregory L",
                    "middle": [],
                    "last": "Haug",
                    "suffix": ""
                },
                {
                    "first": "",
                    "middle": [],
                    "last": "Snow",
                    "suffix": ""
                }
            ],
            "year": 2008,
            "venue": "Academic Emergency Medicine",
            "volume": "15",
            "issn": "2",
            "pages": "159--170",
            "other_ids": {}
        },
        "BIBREF24": {
            "ref_id": "b24",
            "title": "Building predictive models in R using the caret package",
            "authors": [
                {
                    "first": "Max",
                    "middle": [],
                    "last": "Kuhn",
                    "suffix": ""
                }
            ],
            "year": 2008,
            "venue": "Journal of Statistical Software",
            "volume": "",
            "issn": "",
            "pages": "",
            "other_ids": {
                "DOI": [
                    "10.18637/jss.v028.i05"
                ]
            }
        },
        "BIBREF25": {
            "ref_id": "b25",
            "title": "The M4 Competition: 100,000 time series and 61 forecasting methods",
            "authors": [
                {
                    "first": "Spyros",
                    "middle": [],
                    "last": "Makridakis",
                    "suffix": ""
                },
                {
                    "first": "Evangelos",
                    "middle": [],
                    "last": "Spiliotis",
                    "suffix": ""
                },
                {
                    "first": "Vassilios",
                    "middle": [],
                    "last": "Assimakopoulos",
                    "suffix": ""
                }
            ],
            "year": 2020,
            "venue": "International Journal of Forecasting",
            "volume": "36",
            "issn": "1",
            "pages": "54--74",
            "other_ids": {}
        },
        "BIBREF26": {
            "ref_id": "b26",
            "title": "Overcrowding in emergency departments and adverse outcomes",
            "authors": [
                {
                    "first": "L",
                    "middle": [],
                    "last": "Melissa",
                    "suffix": ""
                },
                {
                    "first": "",
                    "middle": [],
                    "last": "Mccarthy",
                    "suffix": ""
                }
            ],
            "year": 2011,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": "",
            "other_ids": {}
        },
        "BIBREF27": {
            "ref_id": "b27",
            "title": "The challenge of predicting demand for emergency department services",
            "authors": [
                {
                    "first": "L",
                    "middle": [],
                    "last": "Melissa",
                    "suffix": ""
                },
                {
                    "first": "",
                    "middle": [],
                    "last": "Mccarthy",
                    "suffix": ""
                },
                {
                    "first": "L",
                    "middle": [],
                    "last": "Scott",
                    "suffix": ""
                },
                {
                    "first": "Ru",
                    "middle": [],
                    "last": "Zeger",
                    "suffix": ""
                },
                {
                    "first": "Dominik",
                    "middle": [],
                    "last": "Ding",
                    "suffix": ""
                },
                {
                    "first": "",
                    "middle": [],
                    "last": "Aronsky",
                    "suffix": ""
                },
                {
                    "first": "R",
                    "middle": [],
                    "last": "Nathan",
                    "suffix": ""
                },
                {
                    "first": "",
                    "middle": [],
                    "last": "Hoot",
                    "suffix": ""
                },
                {
                    "first": "",
                    "middle": [],
                    "last": "Gabor D Kelen",
                    "suffix": ""
                }
            ],
            "year": 2008,
            "venue": "Academic Emergency Medicine",
            "volume": "15",
            "issn": "4",
            "pages": "337--346",
            "other_ids": {}
        },
        "BIBREF28": {
            "ref_id": "b28",
            "title": "Briefing Paper 7281",
            "authors": [],
            "year": 2019,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": "",
            "other_ids": {}
        },
        "BIBREF29": {
            "ref_id": "b29",
            "title": "School term and holiday dates",
            "authors": [
                {
                    "first": "",
                    "middle": [],
                    "last": "City",
                    "suffix": ""
                },
                {
                    "first": "",
                    "middle": [],
                    "last": "Westminster",
                    "suffix": ""
                }
            ],
            "year": 2019,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": "",
            "other_ids": {}
        },
        "BIBREF30": {
            "ref_id": "b30",
            "title": "Reducing waiting times in the nhs: is lack of capacity the problem?",
            "authors": [
                {
                    "first": "Kate",
                    "middle": [],
                    "last": "Silvester",
                    "suffix": ""
                },
                {
                    "first": "Richard",
                    "middle": [],
                    "last": "Lendon",
                    "suffix": ""
                },
                {
                    "first": "Helen",
                    "middle": [],
                    "last": "Bevan",
                    "suffix": ""
                },
                {
                    "first": "Richard",
                    "middle": [],
                    "last": "Steyn",
                    "suffix": ""
                },
                {
                    "first": "Paul",
                    "middle": [],
                    "last": "Walley",
                    "suffix": ""
                }
            ],
            "year": 2004,
            "venue": "Clinician in Management",
            "volume": "12",
            "issn": "3",
            "pages": "",
            "other_ids": {}
        },
        "BIBREF31": {
            "ref_id": "b31",
            "title": "Stacked generalization",
            "authors": [
                {
                    "first": "H",
                    "middle": [],
                    "last": "David",
                    "suffix": ""
                },
                {
                    "first": "",
                    "middle": [],
                    "last": "Wolpert",
                    "suffix": ""
                }
            ],
            "year": 1992,
            "venue": "Neural networks",
            "volume": "5",
            "issn": "2",
            "pages": "241--259",
            "other_ids": {}
        },
        "BIBREF32": {
            "ref_id": "b32",
            "title": "ranger: A fast implementation of random forests for high dimensional data in C++ and R",
            "authors": [
                {
                    "first": "N",
                    "middle": [],
                    "last": "Marvin",
                    "suffix": ""
                },
                {
                    "first": "Andreas",
                    "middle": [],
                    "last": "Wright",
                    "suffix": ""
                },
                {
                    "first": "",
                    "middle": [],
                    "last": "Ziegler",
                    "suffix": ""
                }
            ],
            "year": 2017,
            "venue": "Journal of Statistical Software",
            "volume": "77",
            "issn": "1",
            "pages": "1--17",
            "other_ids": {
                "DOI": [
                    "10.18637/jss.v077.i01"
                ]
            }
        }
    },
    "ref_entries": {
        "FIGREF0": {
            "text": "Attendances at EDs per day for 2011 to 2019. The horizontal lines are the average demands. The St Mary's and Charing Cross Hospitals are part of the Imperial College Healthcare NHS Trust, one of 228 NHS hospital trusts in England. St Mary's Hospital is the major acute care hospital for North West London housing a major trauma centre. Its ED has faced an average demand of 208 patients (with Time series decomposition's of attendances at both EDs for 2011 to 2019. Left St Mary's Hospital and right Charing Cross Hospital. The first row of plots is the data, the second the trend, the third seasonality and the fourth random residuals. a maximum of 289 and a minimum of 99) every day since 2011. Charing Cross Hospital includes the serious injuries centre for West London as well as a hyper acute stroke unit. On average there have been 106 (with a maximum of 177 and a minimum of 60) daily attendances at the ED since 2011. For our analysis, we had access to electronic data records of the number of daily attendances at the EDs for both hospitals from 2011 to 2018 (see",
            "latex": null,
            "type": "figure"
        },
        "FIGREF1": {
            "text": "Monthly attendance at St Mary's Hospital, 2011-2018.",
            "latex": null,
            "type": "figure"
        },
        "FIGREF2": {
            "text": "Monthly attendance at Charing Cross Hospital, 2011-2018.",
            "latex": null,
            "type": "figure"
        },
        "FIGREF3": {
            "text": "also shows indications that bank or school holidays have a strong influence on the number of",
            "latex": null,
            "type": "figure"
        },
        "FIGREF4": {
            "text": "Day of the week effect for ED attendances at both hospitals 2011-2019.",
            "latex": null,
            "type": "figure"
        },
        "FIGREF5": {
            "text": "algorithms are evaluated fairly and equally, (b) the same data is used in all algorithms, and (c) forecast errors are completely blind to the held-out data (i.e. exactly as if the model was being used in a real forecasting setting).",
            "latex": null,
            "type": "figure"
        },
        "FIGREF6": {
            "text": "Hence the length of the test sets was chosen to be 730, 365, 60, 30, 7 and 1 day(s) Splitting the data set into training, validation and test set in case of the online method.",
            "latex": null,
            "type": "figure"
        },
        "FIGREF8": {
            "text": "Variable importance for the machine learning algorithms.",
            "latex": null,
            "type": "figure"
        },
        "FIGREF9": {
            "text": "acknowledge the NIHR Imperial BRC, joint Centre funding from the UK Medical Research Council and Department for International Development. Grant reference: MR/R015600/1. The authors would like to thank Claire Hook (Director of Operational Performance) for helping understand the operational impact of this project. GC is supported in part by an NIHR research professorship. CC is funded by a National Institute for Health Research (NIHR) Career Development Fellowship (NIHR-CDF-2016-09-015) and NIHR North West London Applied Research Collaborative funding (NIHR200180). The views expressed are those of the author(s) and not necessarily those of the NIHR or the Department of Health and Social Care.",
            "latex": null,
            "type": "figure"
        },
        "TABREF0": {
            "text": "Table 1: Excerpt from the model matrix corresponding to St Mary's Hospital. Explanatory covariates for the machine learning algorithms are listed. Below, we summarise the time series and machine learning algorithms that we have considered (for detailed mathematical information we refer the reader to [22]: 4.1 Time series algorithms1. ARIMA -AutoRegressive Integrated Moving Average [22] An ARIMA model consists of three parts: The autoregressive component (AR) referring to the fact that the indicator of interest is regressed on its own previous values (i.e. current values of demand depend on past values of demand), the integrated (I) part representing one or several differencing steps to make the time series stationary and the moving average (MA) component indicating that the regression error is a linear combination of past error terms.",
            "latex": null,
            "type": "table"
        },
        "TABREF3": {
            "text": "Error rates for all time series algorithms for St Mary's and Charing Cross Hospital.",
            "latex": null,
            "type": "table"
        },
        "TABREF5": {
            "text": "",
            "latex": null,
            "type": "table"
        },
        "TABREF6": {
            "text": "",
            "latex": null,
            "type": "table"
        },
        "TABREF8": {
            "text": "Results for the online method for both hospitals.",
            "latex": null,
            "type": "table"
        }
    },
    "back_matter": []
}