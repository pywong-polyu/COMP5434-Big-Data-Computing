{
    "paper_id": "cc56a7cd7986a99703b07e3a1f3b684749696830",
    "metadata": {
        "title": "A Correct by Construction Approach for the Modeling and the Verification of Cyber-Physical Systems in Event-B",
        "authors": [
            {
                "first": "Meryem",
                "middle": [],
                "last": "Afendi",
                "suffix": "",
                "affiliation": {
                    "laboratory": "LACL",
                    "institution": "Universit\u00e9 Paris-Est Cr\u00e9teil",
                    "location": {
                        "postCode": "94010",
                        "settlement": "Creteil",
                        "country": "France"
                    }
                },
                "email": "meryem.afendi@u-pec.fr"
            }
        ]
    },
    "abstract": [
        {
            "text": "Cyber-Physical Systems (CPSs) connect the real world to software systems through a network of sensors and actuators: physical and discrete components interact in complex ways by involving different spatial and temporal scales. One of the most common architectures for CPSs is a discrete software controller which interacts with its physical environment in a closed-loop schema where input from sensors is processed and output is generated and communicated to actuators. We are concerned with the construction and verification of the correctness of such discrete controller using a correct by construction approach, which requires correct integration of discrete and continuous models.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Abstract"
        }
    ],
    "body_text": [
        {
            "text": "In CPSs [1] , the measurement of continuous behaviors is performed by sensors. Ideally sensors have a continuous access to these measurements, which can be captured by an abstract model of CPSs, called Event-Triggered system by Kopetz in [2] . However, implementing such models is difficult in practice. Therefore, an approach to develop CPSs is to introduce a more realistic model called Time-Triggered system where sensors take periodic measurements [2] . Contrary to Event-Triggered models, properties on Time-Triggered models are difficult to verify since their controllers are discrete. Platzer et al. [3, 4] use this approach to model hybrid systems, which represent the most common mathematical models for CPSs. They have proved that a Time-Triggered model is a refinement of an Event-Triggered model, by using hybrid programs (HPs) [3] and an extension of the differential dynamic logic (dL), called the differential refinement logic (dRL). In addition to dL formulas, dRL introduces formulas of the form \u03b1 \u2264 \u03b2, \u03b1 refines \u03b2, with \u03b1 and \u03b2 denoting HPs. However dRL is not supported by any prover and dRL formulas can only be manually proved, which heavily restricts its use, especially in an industrial context. This is why we propose the development of an approach that takes advantage of dRL and applies the reasoning of HPs in Event-B [5] , a formal method based on set theory, first-order logic and predicate logic.",
            "cite_spans": [
                {
                    "start": 8,
                    "end": 11,
                    "text": "[1]",
                    "ref_id": "BIBREF0"
                },
                {
                    "start": 238,
                    "end": 241,
                    "text": "[2]",
                    "ref_id": "BIBREF1"
                },
                {
                    "start": 452,
                    "end": 455,
                    "text": "[2]",
                    "ref_id": "BIBREF1"
                },
                {
                    "start": 607,
                    "end": 610,
                    "text": "[3,",
                    "ref_id": "BIBREF2"
                },
                {
                    "start": 611,
                    "end": 613,
                    "text": "4]",
                    "ref_id": "BIBREF3"
                },
                {
                    "start": 840,
                    "end": 843,
                    "text": "[3]",
                    "ref_id": "BIBREF2"
                },
                {
                    "start": 1345,
                    "end": 1348,
                    "text": "[5]",
                    "ref_id": "BIBREF4"
                }
            ],
            "ref_spans": [],
            "section": "Introduction"
        },
        {
            "text": "The development of techniques and tools to effectively design hybrid systems has drawn the attention of many researchers [6] [7] [8] [9] [10] . Traditional approaches are based on simulation tools like Matlab/Simulink [11] . Since these tools are timeconsuming and produce results tainted with uncertainty, these approaches can be very expensive and difficult to apply. To overcome these limitations, several formal approaches, which can be grouped into two categories, have been proposed: model-checking-based approaches [6, 7] and proof-based approaches [3, [8] [9] [10] , have been proposed. Proof-based approaches use deductive verification to prove the properties of hybrid systems. One of the strong points of these approaches is that they support the description of any kind of hybrid systems. However, they require significant effort and a high expertise in modelling and proof phases. A. Platzer introduced in [3] a first-order dynamic logic in the domain of real (IR), called dL, to specify hybrid systems and verify their correctness using its associated proof calculus. The major advantage of this logic is its ability to handle differential equations, even those with non-polynomial solutions. Moreover, dL and its associated proof calculus are supported by two automatic formal verification tools, KeYmaera and its successor KeYmaera X [12] . In [10] , Dupont et al. introduced a proof-based approach to model and prove hybrid systems in Event-B. They use the Theory plug-in of Event-B to define theories that handle continuous aspects of hybrid systems such as differential equations. The behavior of CPSs is specified by three Event-B models: System model that is used to describe the continuous evolution of the physical part, State-System model that refines the previous model by adding the evolution of the discrete part (the controller) and Controlled-System model that refines State-System model by adding the interaction between the physical part and the discrete part.",
            "cite_spans": [
                {
                    "start": 121,
                    "end": 124,
                    "text": "[6]",
                    "ref_id": "BIBREF5"
                },
                {
                    "start": 125,
                    "end": 128,
                    "text": "[7]",
                    "ref_id": "BIBREF6"
                },
                {
                    "start": 129,
                    "end": 132,
                    "text": "[8]",
                    "ref_id": "BIBREF7"
                },
                {
                    "start": 133,
                    "end": 136,
                    "text": "[9]",
                    "ref_id": "BIBREF8"
                },
                {
                    "start": 137,
                    "end": 141,
                    "text": "[10]",
                    "ref_id": "BIBREF9"
                },
                {
                    "start": 218,
                    "end": 222,
                    "text": "[11]",
                    "ref_id": "BIBREF11"
                },
                {
                    "start": 522,
                    "end": 525,
                    "text": "[6,",
                    "ref_id": "BIBREF5"
                },
                {
                    "start": 526,
                    "end": 528,
                    "text": "7]",
                    "ref_id": "BIBREF6"
                },
                {
                    "start": 556,
                    "end": 559,
                    "text": "[3,",
                    "ref_id": "BIBREF2"
                },
                {
                    "start": 560,
                    "end": 563,
                    "text": "[8]",
                    "ref_id": "BIBREF7"
                },
                {
                    "start": 564,
                    "end": 567,
                    "text": "[9]",
                    "ref_id": "BIBREF8"
                },
                {
                    "start": 568,
                    "end": 572,
                    "text": "[10]",
                    "ref_id": "BIBREF9"
                },
                {
                    "start": 1350,
                    "end": 1354,
                    "text": "[12]",
                    "ref_id": "BIBREF12"
                },
                {
                    "start": 1360,
                    "end": 1364,
                    "text": "[10]",
                    "ref_id": "BIBREF9"
                }
            ],
            "ref_spans": [],
            "section": "State of the Art"
        },
        {
            "text": "Our work is supported in part by the DISCONT project [13] funded by the French National Research Agency (ANR). The objective of this project is to elaborate a correct-by-construction method, based on Event-B, to specify hybrid systems models. Two approaches are considered. The first one, developed by Dupont et al. [10] , is based on a translation of hybrid automata in Event-B. In our approach we propose to model the high-level structure of hybrid programs in Event-B, and more precisely the generic templates defined for modelling Event and Time-Triggered systems in dRL to take advantages of its proof obligations. To handle continuous aspects of hybrid systems in Event-B, we use the abstract model System of Dupont et al. as a starting model, as well as their theories developed to handle differential equations and continuous functions. To validate our approach, we chose the Stop Sign case study [14] which deals with a stop sign controller whose objective is to ensure the stopping of a car before a stop signal SP . In this case study, the differential equation that represents the evolution of the physical part is linear and can be easily solved. To handle more difficult differential equations we plan to integrate an external mathematical tool as a back-end tool in Event-B associated tools. So far, our approach has focused on the most abstract level of hybrid systems design where all transitions are instantaneous, that is, duration issues are not considered. It consists of three models (see Fig. 1 ). Event-Triggered model (EventTriggered Ctx and EventTriggered M of Fig. 1) is a generic abstract model designed to specify and prove systems with continuous controllers in Event-B. It defines a formula saf e used in dRL to represent the system's safety envelope. To model the alternation between the controller and the physical part as represented in HPs ((ctrl; plant) * , where ctrl denotes the discrete evolution, followed by the continuous evolution plant), Event-Triggered model defines a variable exec that can take two values ctrl and plant. In Event-B, the time must be explicitly handled. To be sure that this explicit time will only be updated after the execution of the controller, we added another value, prg, to exec. Therefore, our model follows the following structure: init; (ctrl; plant; prg) * .",
            "cite_spans": [
                {
                    "start": 53,
                    "end": 57,
                    "text": "[13]",
                    "ref_id": "BIBREF13"
                },
                {
                    "start": 316,
                    "end": 320,
                    "text": "[10]",
                    "ref_id": "BIBREF9"
                },
                {
                    "start": 905,
                    "end": 909,
                    "text": "[14]",
                    "ref_id": null
                }
            ],
            "ref_spans": [
                {
                    "start": 1511,
                    "end": 1517,
                    "text": "Fig. 1",
                    "ref_id": "FIGREF0"
                },
                {
                    "start": 1587,
                    "end": 1594,
                    "text": "Fig. 1)",
                    "ref_id": "FIGREF0"
                }
            ],
            "section": "Proposed Approach"
        },
        {
            "text": "To model Time-Triggered systems in Event-B, we designed a new model, named Time-Triggered (TimeTriggered Ctx and TimeTriggered M of Fig. 1) , that refines the previous one. The sensors of such systems take periodic measurements of physical state variables and the longest time between these sensors updates is bounded by a symbolic duration . For this purpose, Time-Triggered model defines a variable d to know whether the duration is reached or not. Since the controller of such systems must make a choice that will be safe for up to time, we replaced the formula saf e by a new safety envelope named saf eEpsilon that depends on both the current discrete state and the time duration , in addition to the current physical state. Finally, to prove that TimeTriggered M refines EventTriggered M, we establish that, during a control period , saf eEpsilon implies saf e. Moreover, we must guarantee that the continuous controller is able to execute exactly when saf e is no longer satisfied. In addition, in the Time-Triggered model, we must also guarantee that the system will not exceed the domain of the safety envelope within time .",
            "cite_spans": [],
            "ref_spans": [
                {
                    "start": 132,
                    "end": 139,
                    "text": "Fig. 1)",
                    "ref_id": "FIGREF0"
                }
            ],
            "section": "Current Results and Future Work"
        },
        {
            "text": "As future work, we plan to integrate Mathematica [15] , a symbolic mathematical computation system that resolves differential equations, as a back-end tool in the Rodin platform to resolve differential equations. We also plan to define a refinement of the Time-Triggered model to take into account duration between the sending of continuous measurements by sensors and their processing by the controller as well as duration between the sending of actions by the controller and their execution in order to get a model that corresponds better to real CPSs, and consequently implements this concrete model.",
            "cite_spans": [
                {
                    "start": 49,
                    "end": 53,
                    "text": "[15]",
                    "ref_id": "BIBREF14"
                }
            ],
            "ref_spans": [],
            "section": "Current Results and Future Work"
        }
    ],
    "bib_entries": {
        "BIBREF0": {
            "ref_id": "b0",
            "title": "Cyber physical systems: design challenges",
            "authors": [
                {
                    "first": "E",
                    "middle": [
                        "A"
                    ],
                    "last": "Lee",
                    "suffix": ""
                }
            ],
            "year": 2008,
            "venue": "11th IEEE International Symposium on Object and Component-Oriented Real-Time Distributed Computing (ISORC)",
            "volume": "",
            "issn": "",
            "pages": "363--369",
            "other_ids": {}
        },
        "BIBREF1": {
            "ref_id": "b1",
            "title": "Event-triggered versus time-triggered real-time systems",
            "authors": [
                {
                    "first": "H",
                    "middle": [],
                    "last": "Kopetz",
                    "suffix": ""
                }
            ],
            "year": 1991,
            "venue": "Operating Systems of the 90s and Beyond",
            "volume": "563",
            "issn": "",
            "pages": "86--101",
            "other_ids": {
                "DOI": [
                    "10.1007/BFb0024530"
                ]
            }
        },
        "BIBREF2": {
            "ref_id": "b2",
            "title": "Differential dynamic logic for hybrid systems",
            "authors": [
                {
                    "first": "A",
                    "middle": [],
                    "last": "Platzer",
                    "suffix": ""
                }
            ],
            "year": 2008,
            "venue": "J. Autom. Reason",
            "volume": "41",
            "issn": "2",
            "pages": "143--189",
            "other_ids": {}
        },
        "BIBREF3": {
            "ref_id": "b3",
            "title": "Differential refinement logic",
            "authors": [
                {
                    "first": "S",
                    "middle": [
                        "M"
                    ],
                    "last": "Loos",
                    "suffix": ""
                },
                {
                    "first": "A",
                    "middle": [],
                    "last": "Platzer",
                    "suffix": ""
                }
            ],
            "year": 2016,
            "venue": "2016 31st Annual ACM/IEEE Symposium on Logic in Computer Science (LICS)",
            "volume": "",
            "issn": "",
            "pages": "1--10",
            "other_ids": {}
        },
        "BIBREF4": {
            "ref_id": "b4",
            "title": "Modeling in Event-B: System and Software Engineering",
            "authors": [
                {
                    "first": "J.-R",
                    "middle": [],
                    "last": "Abrial",
                    "suffix": ""
                }
            ],
            "year": 2010,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": "",
            "other_ids": {}
        },
        "BIBREF5": {
            "ref_id": "b5",
            "title": "HyTech: a model checker for hybrid systems",
            "authors": [
                {
                    "first": "T",
                    "middle": [
                        "A"
                    ],
                    "last": "Henzinger",
                    "suffix": ""
                },
                {
                    "first": "P.-H",
                    "middle": [],
                    "last": "Ho",
                    "suffix": ""
                },
                {
                    "first": "H",
                    "middle": [],
                    "last": "Wong-Toi",
                    "suffix": ""
                }
            ],
            "year": 1997,
            "venue": "CAV 1997",
            "volume": "1254",
            "issn": "",
            "pages": "460--463",
            "other_ids": {
                "DOI": [
                    "10.1007/3-540-63166-6_48"
                ]
            }
        },
        "BIBREF6": {
            "ref_id": "b6",
            "title": "PHAVer: algorithmic verification of hybrid systems past HyTech",
            "authors": [
                {
                    "first": "G",
                    "middle": [],
                    "last": "Frehse",
                    "suffix": ""
                }
            ],
            "year": 2005,
            "venue": "HSCC 2005",
            "volume": "3414",
            "issn": "",
            "pages": "258--273",
            "other_ids": {
                "DOI": [
                    "10.1007/978-3-540-31954-2_17"
                ]
            }
        },
        "BIBREF7": {
            "ref_id": "b7",
            "title": "Practical theory extension in Event-B",
            "authors": [
                {
                    "first": "M",
                    "middle": [],
                    "last": "Butler",
                    "suffix": ""
                },
                {
                    "first": "I",
                    "middle": [],
                    "last": "Maamria",
                    "suffix": ""
                }
            ],
            "year": 2013,
            "venue": "Theories of Programming and Formal Methods",
            "volume": "8051",
            "issn": "",
            "pages": "67--81",
            "other_ids": {
                "DOI": [
                    "10.1007/978-3-642-39698-4_5"
                ]
            }
        },
        "BIBREF8": {
            "ref_id": "b8",
            "title": "Core hybrid Event-B I: single hybrid Event-B machines",
            "authors": [
                {
                    "first": "R",
                    "middle": [],
                    "last": "Banach",
                    "suffix": ""
                },
                {
                    "first": "M",
                    "middle": [],
                    "last": "Butler",
                    "suffix": ""
                },
                {
                    "first": "S",
                    "middle": [],
                    "last": "Qin",
                    "suffix": ""
                },
                {
                    "first": "N",
                    "middle": [],
                    "last": "Verma",
                    "suffix": ""
                },
                {
                    "first": "H",
                    "middle": [],
                    "last": "Zhu",
                    "suffix": ""
                }
            ],
            "year": 2015,
            "venue": "Sci. Comput. Program",
            "volume": "105",
            "issn": "",
            "pages": "92--123",
            "other_ids": {}
        },
        "BIBREF9": {
            "ref_id": "b9",
            "title": "Proof-based approach to hybrid systems development: dynamic logic and Event-B",
            "authors": [
                {
                    "first": "G",
                    "middle": [],
                    "last": "Dupont",
                    "suffix": ""
                },
                {
                    "first": "Y",
                    "middle": [],
                    "last": "A\u00eft-Ameur",
                    "suffix": ""
                },
                {
                    "first": "M",
                    "middle": [],
                    "last": "Pantel",
                    "suffix": ""
                },
                {
                    "first": "N",
                    "middle": [
                        "K"
                    ],
                    "last": "Singh",
                    "suffix": ""
                }
            ],
            "year": null,
            "venue": "ABZ 2018",
            "volume": "10817",
            "issn": "",
            "pages": "155--170",
            "other_ids": {}
        },
        "BIBREF11": {
            "ref_id": "b11",
            "title": "A toolbox for simulation of hybrid systems in Matlab/Simulink: Hybrid equations (HyEQ) toolbox",
            "authors": [
                {
                    "first": "R",
                    "middle": [],
                    "last": "Sanfelice",
                    "suffix": ""
                },
                {
                    "first": "D",
                    "middle": [],
                    "last": "Copp",
                    "suffix": ""
                },
                {
                    "first": "P",
                    "middle": [],
                    "last": "Nanez",
                    "suffix": ""
                }
            ],
            "year": 2013,
            "venue": "Proceedings of the 16th International Conference on Hybrid Systems: Computation and Control",
            "volume": "",
            "issn": "",
            "pages": "101--106",
            "other_ids": {}
        },
        "BIBREF12": {
            "ref_id": "b12",
            "title": "KeYmaera X: an axiomatic tactical theorem prover for hybrid systems",
            "authors": [
                {
                    "first": "N",
                    "middle": [],
                    "last": "Fulton",
                    "suffix": ""
                },
                {
                    "first": "S",
                    "middle": [],
                    "last": "Mitsch",
                    "suffix": ""
                },
                {
                    "first": "J.-D",
                    "middle": [],
                    "last": "Quesel",
                    "suffix": ""
                },
                {
                    "first": "M",
                    "middle": [],
                    "last": "V\u00f6lp",
                    "suffix": ""
                },
                {
                    "first": "A",
                    "middle": [],
                    "last": "Platzer",
                    "suffix": ""
                }
            ],
            "year": 2015,
            "venue": "CADE 2015. LNCS (LNAI)",
            "volume": "9195",
            "issn": "",
            "pages": "527--538",
            "other_ids": {
                "DOI": [
                    "10.1007/978-3-319-21401-6_36"
                ]
            }
        },
        "BIBREF13": {
            "ref_id": "b13",
            "title": "How to model and prove hybrid systems with KeYmaera: a tutorial on safety",
            "authors": [
                {
                    "first": "J.-D",
                    "middle": [],
                    "last": "Quesel",
                    "suffix": ""
                },
                {
                    "first": "S",
                    "middle": [],
                    "last": "Mitsch",
                    "suffix": ""
                },
                {
                    "first": "S",
                    "middle": [],
                    "last": "Loos",
                    "suffix": ""
                },
                {
                    "first": "N",
                    "middle": [],
                    "last": "Ar\u00e9chiga",
                    "suffix": ""
                },
                {
                    "first": "A",
                    "middle": [],
                    "last": "Platzer",
                    "suffix": ""
                }
            ],
            "year": 2016,
            "venue": "Int. J. Softw. Tools Technol. Transfer",
            "volume": "18",
            "issn": "1",
            "pages": "67--91",
            "other_ids": {}
        },
        "BIBREF14": {
            "ref_id": "b14",
            "title": "The Mathematica, 5th edn. Wolfram Media",
            "authors": [
                {
                    "first": "S",
                    "middle": [],
                    "last": "Wolfram",
                    "suffix": ""
                }
            ],
            "year": 2003,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": "",
            "other_ids": {}
        }
    },
    "ref_entries": {
        "FIGREF0": {
            "text": "Approach schema.",
            "latex": null,
            "type": "figure"
        }
    },
    "back_matter": []
}